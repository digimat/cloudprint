#!/bin/sh

SERVICEPATH=/home/pi/python/cloudprint
DEFAULTSERVICE=cloudprint.py
SERVICE=${1:-$DEFAULTSERVICE}

echo "Launching service [$SERVICEPATH/$SERVICE]..."

cd $SERVICEPATH
git fetch origin
git reset --hard origin/masters
 
if [ -f $SERVICEPATH/$SERVICE ]; then
	logger "Launching service [$SERVICE]"
	exec /usr/bin/python $SERVICEPATH/$SERVICE
fi

logger "$0:unable to find service [$SERVICE]"
/bin/sleep 15
